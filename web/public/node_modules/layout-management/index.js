var getCssFromHTML = function(){
    let path = window.location.pathname
    let page = path.split("/").pop().split(".")[0]
    return page
}

var addCssOfPage = function(pageName){
    let linkElement = document.createElement('link')
    linkElement.setAttribute('rel', 'stylesheet')
    linkElement.setAttribute('type', "text/css")
    linkElement.setAttribute('href', "../assets/css/" + pageName + "-dark.css")
    document.querySelector('head').appendChild(linkElement)
}

var removeDarkModeCss = function(pageName){
    let allLinks = document.getElementsByTagName("link")
    for(i = 0; i < allLinks.length; i++){
        if(allLinks[i].href.includes("/assets/css/" + pageName + "-dark.css")){
            allLinks[i].remove()
        }
    }
}

var modebutton = document.getElementsByClassName("mode-icon")[0]
modebutton.onclick = function(){
    let pageName = getCssFromHTML()

    if(modebutton.textContent.localeCompare("nightlight_round") == 0){
        modebutton.textContent = "lightbulb"
        addCssOfPage(pageName)
    }
    else{
        modebutton.textContent = "nightlight_round"
        removeDarkModeCss(pageName)
    }
        
}
